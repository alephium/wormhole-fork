import "token_wrapper.ral"

TxScript Main {
    pub payable fn main() -> () {
        let sender = @{{ sender }}
        let tokenAmount = {{ tokenAmount }}
        let tokenWrapperId = #{{ tokenWrapperAddress }}
        approveAlph!(sender, {{ messageFee }})
        approveToken!(sender, tokenWrapperId, tokenAmount)
        let tokenWrapper = TokenWrapper(tokenWrapperId)
        tokenWrapper.transfer(
            sender,
            #{{ toAddress }},
            tokenAmount,
            {{ arbiterFee }},
            #{{ nonce }},
            {{ consistencyLevel }}
        )
    }
}
